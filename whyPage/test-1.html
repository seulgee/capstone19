<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href='../fonts/nanumSquare/nanumsquare.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/test-1.css">
    <link rel="stylesheet" type="text/css" href="../css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400" rel="stylesheet">  
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <title>일상속 외래어</title>
  </head>
  <body>
    <div class="portrait-overlay" style="z-index:1000;">
        <h4>장치를 가로로 돌려주세요.</h4>
        <h4>&#8226;</h4>
        <h4>Please rotate your device.</h4>
    </div>
    <div class="container-fluid" id="why-container">
            <div class="title">
                <a href="../index.html"><h3><span class="why-title">일상속 외래어</span></h3></a>
            </div>
            <div class="nav-container">
                <ul class="nav flex-column">
                    <li class="nav-item" data-toggle="tooltip" data-placement="left" title="simulator">
                        <a class="nav-link nav-index__link" style="margin-bottom:27px; color:#ffffff" href="../start.html">
                            <p class="letters index-letter1">모</p><p class="letters index-letter2">의</p><p class="letters index-letter3">실</p><p class="letters index-letter4">험</p><p class="letters index-letter5">기</p>
                            <span class="mobile-letters" style="display:none">모의실험기 &#124; <span class="en-font">simulator</span></span>
                        </a>
                    </li>
                    <li class="nav-item nav-about" data-toggle="tooltip" data-placement="left" title="about">
                        <a class="nav-link nav-about__link" style="margin-bottom:27px; color:#ffffff" href="../aboutPage/index.html">
                            <span class="letters about-letter1">소</span><span class="letters about-letter2">개</span>
                            <span class="mobile-letters" style="display:none">소개 &#124;<span class="en-font">about</span></span>
                        </a>
                    </li>
                    <li class="nav-item nav-why" data-toggle="tooltip" data-placement="left" title="why care?">
                        <a class="nav-link nav-why__link" style="color:#ffffff" href="test-1.html">
                            <span class="letters">&#8226;중요성</span>
                            <span class="mobile-letters" style="display:none">&#8226;중요성 &#124; <span class="en-font">why</span></span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="mobile-nav">
                <i class="fas fa-times" id="exit"></i>
            </div>
            <div class="dots" style="text-align:center">
                <a class="dot" id="dot-1" href="#slide-1"></a> 
                <a class="dot" id="dot-2" href="#slide-2"></a>
                <a class="dot" id="dot-3" href="#slide-3"></a>
                <a class="dot" id="dot-4" href="#slide-4"></a>
            </div>
            <div class="arrows">
                <a id="prev" class="arrow" href="#slide-1">&#10094;</a>
                <a id="next" class="arrow" href="#slide-2">&#10095;</a>
            </div>
            

            <div class="slides"  onscroll="scrollFunction();">
                <!-- <a class="arrow next" href="#slide-2">&#10095;</a> -->
    
                <div class="slide" id="slide-1">
                    <div class="slide__bg">
                    </div>
                    <div class="slide__content">
                    <div class="slide__text">
                        <p>King Sejong the Great leads a team of scholars to invent Hangul, the Korean alphabet, to increase literacy among the peasant population.</p>
                    </div>
                    <div class="slide__title">
                        <h1 id="slide-1-title">1446</h1>
                        <div class="circle"></div>
                        <div class="slide__image first"></div>
                    </div>
                    </div>
                </div>
            
                <div class="slide" id="slide-2">
                    <!-- <a class="arrow prev" href="#slide-1">&#10094;</a>
                    <a class="arrow next" href="#slide-3">&#10095;</a> -->

                    <div class="slide__bg">  
                    </div>
                    <div class="slide__content">
                    <div class="slide__text">
                        <p>Korea becomes a colony of Imperial Japan. Japanese becomes the official language of Korea, and the use of Korean language is banned in 1938. Innumerous amount of effort was made to conserve the Korean language so that it could be passed on to future generations.</p>
                    </div>
                    <div class="slide__title">
                        <h1 id="slide-2-title">1910</h1>
                        <div class="circle"></div>
                        <div class="slide__image"></div>
                    </div>
                    </div>
                </div>
            
                <div class="slide" id="slide-3">
                    <div class="slide__bg">
                    </div>
                    <div class="slide__content">
                    <div class="slide__text">
                        <p>After gaining independence from Imperial Japan in 1945, Korea starts having "substantial direct contact with English after hosting the Olympic Games."</p>
                    </div>
                    <div class="slide__title">
                        <h1 id="slide-3-title">1988</h1>
                        <div class="circle"></div>
                        <div class="slide__image"></div>
                    </div>  
                    </div>
                </div>
            
                <div class="slide" id="slide-4">
                    <div class="slide__bg">
                    </div>
                    <div class="slide__content">
                    <div class="slide__text">
                        <p>Today, Korean continues to be a unique language. However, with the influence of Western pop culture and the great amount of emphasis placed on the importance of being able to communicate in English, the prominent loanwords are replacing their Korean counterparts. What will the Korean language look like in 10 years?</p>
                    </div>
                    <div class="slide__title">
                        <h1 id="slide-4-title">2019</h1>
                        <div class="circle"></div>
                        <div class="slide__image last"></div>
                    </div>
                    </div>
                </div>

            
            
            </div>
    </div>

    <script>

        // $(function() {
        //     $("html, body, *").mousewheel(function(event, delta) {
        //         this.scrollLeft -= (delta * 50);
        //         event.preventDefault();
        //     });
        // });

        $('#dot-1').addClass('active')
        $('#prev').hide();

        //arrow code
        //set counter to first slide
        var counter = 1

        //event listeners for arrows
        function prevSlide(){
            if(counter>1){
                counter--;
            }
            var newHref = "#slide-"+counter
            document.getElementById("prev").setAttribute('href',newHref)
        }
        function nextSlide(){
            if(counter<5){
                counter++;
            }
            var newHref = "#slide-"+counter
            document.getElementById("next").setAttribute('href',newHref)
        }

        var arrow = $('.arrow');
        var dots = $('#dot-1, #dot-2, #dot-3, #dot-4');
        var dot = $('.dot')

        dot.each(function(){
            dotActive()
        })

        function dotActive(){
            $(dot).on('click', function(){
                dots.removeClass('active')
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active')
                } else {
                    $(this).addClass('active');
                }

            })
        }

        function scrollFunction(){
            console.log('scroll')
            var divElement1 = document.getElementById('slide-1')
            var divElement2 = document.getElementById('slide-2')
            var divElement3 = document.getElementById('slide-3')
            var divElement4 = document.getElementById('slide-4')
            var slides = [divElement1, divElement2, divElement3, divElement4];

            var bounding1 = slides[0].getBoundingClientRect();
            var bounding2 = slides[1].getBoundingClientRect();
            var bounding3 = slides[2].getBoundingClientRect();
            var bounding4 = slides[3].getBoundingClientRect();

            var dot1 = document.getElementById('dot-1')
            var dot2 = document.getElementById('dot-2')
            var dot3 = document.getElementById('dot-3')
            var dot4 = document.getElementById('dot-4')

            var boundings = [bounding1, bounding2, bounding3, bounding4];
            var dotsArray = [dot1, dot2, dot3, dot4];
            var i;

            var prevArrow = $('#prev')
            var nextArrow = $('#next')

            console.log(bounding3.left);
            for (i=0;i<slides.length;i++){
                if (boundings[0].left >= -10 && boundings[0].left <= 10) {
                    prevArrow.hide();
                } else if (boundings[3].left >= -10 && boundings[3].left <= 10) {
                    nextArrow.hide()
                } else {
                    prevArrow.show();
                    nextArrow.show();
                }
                if (boundings[i].left >= -600 && boundings[i].left <= 600 ){
                    $(dotsArray[i]).addClass('active');
                    console.log("div number " + i  + "in viewport" )
                    counter = i;
                    if(counter>0){
                        prevHref = "#slide-" + counter;
                        document.getElementById("prev").setAttribute('href',prevHref)
                    }
                    if(counter<4){
                        var next = counter+2;
                        nextHref = "#slide-" + next;
                        document.getElementById("next").setAttribute('href',nextHref)
                    }

                } 
                else {
                    $(dotsArray[i]).removeClass('active')
                    console.log("div number " + i  + "not in viewport" )
                }
            }
        }

    </script>


    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="../scripts/main.js"></script>
    <!-- <script src="../scripts/why.js"></script> -->
  </body>
</html>