<!doctype HTML>
<html lang=en style="width:100%; height:100%;">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    
    <title>일상속 외래어</title>
</head>

<body style="width:100%; height:100%; margin:0; padding:0; overflow: hidden;">
    <div class="portrait-overlay">
        <h4>Please rotate your device.</h4>
    </div>
    <div class="overlay-info container-fluid">
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-sm-8"></div>
            <div class="col-sm"></div>
        </div>
    </div>
    <div class="title">
        <a href="index.html"><h3>일상속 외래어</h3></a>
    </div>
    <nav class="list">
        
        <div class="nav-container">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link nav-index__link" style="color:#4568FB" href="index.html">
                        &#8226;모의실험기
                    </a>
                </li>
                <li class="nav-item nav-about">
                    <a class="nav-link nav-about__link" style="margin-bottom:27px;" href="aboutPage/index.html">
                        <span class="letters about-letter1">소</span><span class="letters about-letter2">개</span>
                        <span class="mobile-letters" style="display:none">소개</span>
                    </a>
                </li>
                <li class="nav-item nav-why">
                    <a class="nav-link nav-why__link" href="whyPage/index.html">
                        <p class="letters why-letter1">중</p><p class="letters why-letter2">요</p><p class="letters why-letter3">성</p>
                        <span class="mobile-letters" style="display:none">중요성</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="mobile-nav">
        </div>
    </nav>
    <div class="info">
        <p>don't speak Korean?</p>
    </div>
    <iframe id="myframe1" style="border-width:0; width:100%; height:100%; z-index:0;" src="mainPage/index-1.html"></iframe>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/utils/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/plugins/CSSPlugin.min.js"></script>
    <script src="scripts/main.js"></script>


</body>

<script type="text/javascript">
    window.onload = init;
    var sites = [
        'mainPage/index-1.html',
        'mainPage/index-2.html', 
        'mainPage/index-3.html',
        'mainPage/index-4.html',
        'mainPage/index-5.html'];

    // if (typeof(Storage) !== "undefined"){
    //     //code for storage shit
    //     if (localStorage.count){
    //         localStorage.count = Number(localStorage.count) + 1;
    //         var numberOfPhrases = 5;
    //         if (Number(localStorage.count)>=numberOfPhrases){
    //             localStorage.count = 0;
    //             console.log("greater");
    //         }
    //     }
    //     else {
    //         localStorage.count = 0;
    //     }
    //     var index = localStorage.count;
    //     console.log(index);
    // }
    // else {
    //     //no storage, go random
    //     var index = Math.floor((Math.random() * 5));
    // }
    
    function init() {
        document.getElementById('myframe1').src = sites[index];
    }

        var y = window.matchMedia("(max-width: 896px)")
        var button = $('.mobile-nav')
        var nav = $('.nav-container')
		myFunction(y) // Call listener function at run time
		y.addListener(myFunction) // Attach listener function on state changes

		function myFunction(y) {
    		if (y.matches){
    			button.show();
    			nav.hide();

    		} else {
    			button.hide();
    			nav.show();
    		}
    	};

        var toggle = true
        var navItem = $('.nav-item').find('a')
        var mobileNav = $('.mobile-letters')
        var navLetters = $('.letters')
        var navAbout = $('.nav-about__link')

        button.on("click", function(){
            if (toggle) {
                $(this).animate({
                    right: "0px",
                    top: "0px",
                    width: "100%",
                    height: "100%",
                    borderRadius: "0",
                    opacity: .9
                });
                nav
                    .css({
                        "top": "50%",
                        "right": "50%",
                        "transform": "translate(+50%, -50%)"
                    })
                    .show()
                navItem.css({
                    "color": "#ffffff",
                    "text-align": "center"
                });
                navAbout.css({
                    "margin-bottom": "0"
                })
                navLetters.hide();
                mobileNav.show();
                toggle = !toggle;
            } else {
                $(this).animate({
                    right: "-50px",
                    top: "-50px",
                    width: "100px",
                    height: "100px",
                    borderRadius: "50%"
                })
                nav.hide();
                toggle = !toggle
                
            }   
        })

    var info = $('.info')
    var overlay = $('.overlay-info')
    info.on("click", function(){
        overlay.fadeIn('fast');
        console.log("overlay clicked")
    })
</script>

</html>