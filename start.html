<!doctype HTML>
<html lang=en style="width:100%; height:100%;">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400" rel="stylesheet">    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    
    <title>일상속 외래어</title>
</head>

<body style="width:100%; height:100%; margin:0; padding:0; overflow: hidden;">
    <div class="portrait-overlay">
        <h4>Please rotate your device.</h4>
    </div>
    <div class="overlay-info container-fluid">
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-sm-6"></div>
            <div class="col-sm" id="overlay-nav">
                <p>simulator</p>
                <p>about</p>
                <p>why</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-sm-8" id="overlay-slider">
                <div class="overlay-sub" id="first">
                    <p>traditional</p>
                </div>
                <div class="overlay-sub" id="second">
                    <p>modern</p>
                </div>
                <div class="overlay-sub" id="third">
                    <p>future</p>
                </div>
            </div>
            <div class="col-sm"></div>
        </div>
    </div>
    <div class="title">
        <a href="index.html"><h3>일상속 외래어</h3></a>
    </div>
    <nav class="list">
        
        <div class="nav-container">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link nav-index__link" style="color:#4568FB" href="index.html">
                        <span class="letters">&#8226;모의실험기</span>
                        <span class="mobile-letters" style="display:none">&#8226;모의실험기 &#124; <span class="en-font">simulator</span></span>
                    </a>
                </li>
                <li class="nav-item nav-about">
                    <a class="nav-link nav-about__link" style="margin-bottom:27px;" href="aboutPage/index.html">
                        <span class="letters about-letter1">소</span><span class="letters about-letter2">개</span>
                        <span class="mobile-letters" style="display:none">소개 &#124; <span class="en-font">about</span></span>
                    </a>
                </li>
                <li class="nav-item nav-why">
                    <a class="nav-link nav-why__link" href="whyPage/index.html">
                        <p class="letters why-letter1">중</p><p class="letters why-letter2">요</p><p class="letters why-letter3">성</p>
                        <span class="mobile-letters" style="display:none">중요성 &#124; <span class="en-font">why</span></span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="mobile-nav">
            <i class="fas fa-times" id="exit"></i>
        </div>
    </nav>
    <div class="info">
        <p>don't speak Korean?</p>
    </div>
    <iframe id="myframe1" style="border-width:0; width:100%; height:100%; z-index:0;" src="mainPage/index-1.html"></iframe>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/utils/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/plugins/CSSPlugin.min.js"></script>
    <script src="scripts/main.js"></script>


</body>

<script type="text/javascript">
    window.onload = init;
    var sites = [
        'mainPage/index-1.html',
        'mainPage/index-2.html', 
        'mainPage/index-3.html',
        'mainPage/index-4.html',
        'mainPage/index-5.html'];

    // if (typeof(Storage) !== "undefined"){
    //     //code for storage shit
    //     if (localStorage.count){
    //         localStorage.count = Number(localStorage.count) + 1;
    //         var numberOfPhrases = 5;
    //         if (Number(localStorage.count)>=numberOfPhrases){
    //             localStorage.count = 0;
    //             console.log("greater");
    //         }
    //     }
    //     else {
    //         localStorage.count = 0;
    //     }
    //     var index = localStorage.count;
    //     console.log(index);
    // }
    // else {
    //     //no storage, go random
    //     var index = Math.floor((Math.random() * 5));
    // }
    
    function init() {
        document.getElementById('myframe1').src = sites[index];
    }

        var y = window.matchMedia("(max-width: 896px) and (max-height: 414px)")
        var button = $('.mobile-nav')
        var nav = $('.nav-container')
        var overlayNav = $('#overlay-nav')
        var overlaySlider = $('#overlay-slider')
		myFunction(y) // Call listener function at run time
		y.addListener(myFunction) // Attach listener function on state changes

		function myFunction(y) {
    		if (y.matches){
    			button.show();
                nav.hide();
                overlayNav.hide();
                overlaySlider
                    .removeClass('col-sm-8')
                    .addClass('col-sm-6')

    		} else {
    			button.hide();
                nav.show();
                overlayNav.show();
    		}
    	};

        var toggle = true
        var navItem = $('.nav-item').find('a')
        var mobileNav = $('.mobile-letters')
        var navLetters = $('.letters')
        var navAbout = $('.nav-about__link')
        var exit = $('#exit')

        button.on("click", function(){
            if (toggle) {
                $(this).animate({
                    right: "0px",
                    top: "0px",
                    width: "100%",
                    height: "100%",
                    borderRadius: "0",
                    opacity: 1
                });
                nav
                    .css({
                        "top": "50%",
                        "right": "50%",
                        "transform": "translate(+50%, -50%)",
                        "z-index": "17"
                    })
                    .show()
                navItem.css({
                    "color": "#ffffff",
                    "text-align": "center"
                });
                navAbout.css({
                    "margin-bottom": "0"
                })
                navLetters.hide();
                exit.fadeIn('fast');
                mobileNav.fadeIn('slow');
                toggle = !toggle;
            } else {
                $(this).animate({
                    right: "-50px",
                    top: "-50px",
                    width: "100px",
                    height: "100px",
                    borderRadius: "50%"
                })
                // nav.hide();
                exit.fadeOut('fast');
                mobileNav.fadeOut('fast');
                toggle = !toggle
                
            }   
        })

    var info = $('.info')
    var overlay = $('.overlay-info')
    info.on("click", function(){
        if (toggle) {
            overlay.fadeIn('fast');
            info.find('p').html("exit");
            toggle = !toggle
        } else {
            overlay.fadeOut('fast');
            info.find('p').html("don't speak Korean?");
            toggle = !toggle
        }
    })
</script>

</html>